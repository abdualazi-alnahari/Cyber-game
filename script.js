const wheel = document.getElementById("wheel");
const spinBtn = document.getElementById("spinBtn");
const questionText = document.getElementById("question");
const optionsDiv = document.getElementById("options");
const scoreDiv = document.getElementById("score");
const timerDiv = document.getElementById("timer");

let currentRotation = 0;
let score = 0;
let answeredQuestions = 0;
let timerInterval;

// ุงูุฃุณุฆูุฉ ููู ูุณุชูู
const allQuestions = {
  easy: [],
  medium: [],
  hard: []
};

// ุฏูุฌ ูู ุงูุฃุณุฆูุฉ ูู ูุณุชูู ูุงุญุฏ ููุชุณููู
const allCyberQuestions = [
  
    // ุฃุณุฆูุฉ ุงุฎุชูุงุฑ ูู ูุชุนุฏุฏ
    { question: "ูุง ูู ุงูุชุตูุฏ ุงูุฅููุชุฑููู (Phishing)ุ", options: ["ุฎุฏุงุน ููุญุตูู ุนูู ูุนูููุงุชู", "ุชุดุบูู ุงูุฅูุชุฑูุช", "ูุณุญ ุงูููุฑูุณุงุช"], correct: "ุฎุฏุงุน ููุญุตูู ุนูู ูุนูููุงุชู" },
    { question: "ููุงุฐุง ูุฌุจ ุงุณุชุฎุฏุงู ุงููุตุงุฏูุฉ ุงูุซูุงุฆูุฉุ", options: ["ูุฒูุงุฏุฉ ุงูุฃูุงู", "ูุฅุจุทุงุก ุงูุฏุฎูู", "ูุชุบููุฑ ูููุฉ ุงููุฑูุฑ"], correct: "ูุฒูุงุฏุฉ ุงูุฃูุงู" },
    { question: "ูุง ูู ุฃููู ููุน ูููุฉ ูุฑูุฑุ", options: ["ุชุญุชูู ุนูู ุญุฑูู ูุฃุฑูุงู ูุฑููุฒ", "ุงุณู ุงููุณุชุฎุฏู", "ุชุงุฑูุฎ ุงููููุงุฏ"], correct: "ุชุญุชูู ุนูู ุญุฑูู ูุฃุฑูุงู ูุฑููุฒ" },
    { question: "ูุง ูู ูุนูู VPNุ", options: ["ุดุจูุฉ ุงูุชุฑุงุถูุฉ ุฎุงุตุฉ", "ูุดุบู ููุฏูู", "ุฌูุงุฒ ุญูุงูุฉ"], correct: "ุดุจูุฉ ุงูุชุฑุงุถูุฉ ุฎุงุตุฉ" },
    { question: "ูุง ูู ุฌุฏุงุฑ ุงูุญูุงูุฉ (Firewall)ุ", options: ["ูุญูู ูู ุงูุชูุฏูุฏุงุช", "ูุฑูุน ุณุฑุนุฉ ุงูุฅูุชุฑูุช", "ููุธู ุงูุฌูุงุฒ"], correct: "ูุญูู ูู ุงูุชูุฏูุฏุงุช" },
    { question: "ูุง ุงูููุตูุฏ ุจุงูููุฏุณุฉ ุงูุงุฌุชูุงุนูุฉุ", options: ["ุฎุฏุงุน ุงููุงุณ ููุญุตูู ุนูู ูุนูููุงุช", "ุจูุงุก ุดุจูุงุช", "ุชุตููู ุงูููุงูุน"], correct: "ุฎุฏุงุน ุงููุงุณ ููุญุตูู ุนูู ูุนูููุงุช" },
    { question: "ูุง ุงููุฑู ุจูู https ู httpุ", options: ["https ุขูู", "http ุฃุณุฑุน", "ูุง ูุฑู"], correct: "https ุขูู" },
    { question: "ูุง ูู ุงููุฏู ูู ุชุญุฏูุซ ุงูุจุฑุงูุฌุ", options: ["ุฅุตูุงุญ ุซุบุฑุงุช ุงูุฃูุงู", "ุงุณุชููุงู ุงูุจุทุงุฑูุฉ", "ุฅุจุทุงุก ุงูุฌูุงุฒ"], correct: "ุฅุตูุงุญ ุซุบุฑุงุช ุงูุฃูุงู" },
  
    // ุฃุณุฆูุฉ ุฑุชุจ ุงูุฌููุฉ ุงูุตุญูุญุฉ
    { question: "ุฑุชุจ ุงูุฌููุฉ ุงูุตุญูุญุฉ: [ุงุณุชุฎุฏู, ูููุฉ ูุฑูุฑ, ูููุฉ]", options: ["ูููุฉ ูุฑูุฑ ุงุณุชุฎุฏู ูููุฉ", "ุงุณุชุฎุฏู ูููุฉ ูุฑูุฑ ูููุฉ", "ูููุฉ ุงุณุชุฎุฏู ูููุฉ ูุฑูุฑ"], correct: "ุงุณุชุฎุฏู ูููุฉ ูุฑูุฑ ูููุฉ" },
    { question: "ุฑุชุจ ุงูุฌููุฉ: [ูุง, ูุนูููุงุชู, ุชุดุงุฑู, ุงูุดุฎุตูุฉ]", options: ["ูุง ุชุดุงุฑู ูุนูููุงุชู ุงูุดุฎุตูุฉ", "ูุนูููุงุชู ูุง ุชุดุงุฑู ุงูุดุฎุตูุฉ", "ุงูุดุฎุตูุฉ ูุง ูุนูููุงุชู ุชุดุงุฑู"], correct: "ูุง ุชุดุงุฑู ูุนูููุงุชู ุงูุดุฎุตูุฉ" },
    { question: "ุฑุชุจ ุงูุฌููุฉ: [ุงูุฃูุงู, ููู, ุฌุฏูุง]", options: ["ููู ุงูุฃูุงู ุฌุฏูุง", "ุงูุฃูุงู ููู ุฌุฏูุง", "ุฌุฏุงู ุงูุฃูุงู ููู"], correct: "ุงูุฃูุงู ููู ุฌุฏูุง" },
    { question: "ุฑุชุจ ุงูุฌููุฉ: [ูุง, ุชูุชุญ, ุฑูุงุจุท, ูุดุจููุฉ]", options: ["ูุง ุชูุชุญ ุฑูุงุจุท ูุดุจููุฉ", "ุชูุชุญ ูุง ุฑูุงุจุท ูุดุจููุฉ", "ูุดุจููุฉ ูุง ุชูุชุญ ุฑูุงุจุท"], correct: "ูุง ุชูุชุญ ุฑูุงุจุท ูุดุจููุฉ" },
  
    // ุฃุณุฆูุฉ ุตุญ ูุฎุทุฃ ุฃู ุงุฎุชุฑ ุงูุฃุตุญ
    { question: "ูู ูู ุงูุขูู ูุดุงุฑูุฉ ูููุฉ ุงููุฑูุฑ ูุน ุงูุฃุตุฏูุงุกุ", options: ["ูุง", "ูุนู"], correct: "ูุง" },
    { question: "ูุง ูู ุงูุฎูุงุฑ ุงูุฃูุถู ูุญูุงูุฉ ุญุณุงุจุงุชูุ", options: ["ุงุณุชุฎุฏุงู ููุณ ูููุฉ ุงููุฑูุฑ ููู ุญุณุงุจ", "ุงููุตุงุฏูุฉ ุงูุซูุงุฆูุฉ", "ุนุฏู ุงุณุชุฎุฏุงู ูููุงุช ูุฑูุฑ"], correct: "ุงููุตุงุฏูุฉ ุงูุซูุงุฆูุฉ" },
    { question: "ูู ูู ุงูุขูู ุงูุงุชุตุงู ุจุฃู ุดุจูุฉ Wi-Fi ุนุงูุฉุ", options: ["ูุง", "ูุนู"], correct: "ูุง" },
    { question: "ุฃู ูู ุงูุชุงูู ุขูู ุฃูุซุฑุ", options: ["VPN ููุซูู", "ุชุญููู ูู ูุตุงุฏุฑ ุบูุฑ ูุนุฑููุฉ", "ุนุฏู ุชุญุฏูุซ ุงูุชุทุจููุงุช"], correct: "VPN ููุซูู" },
  
    // ุฃุณุฆูุฉ ููุงููู ููุฌูุงุช
    { question: "ูุง ูู ุจุฑูุฌูุงุช ุงููุฏูุฉ (Ransomware)ุ", options: ["ุชุดููุฑ ุงููููุงุช ูุทูุจ ูุฏูุฉ", "ุญุฐู ุงููููุงุช ูุจุงุดุฑุฉ", "ูุถุงุฏ ููุฑูุณุงุช"], correct: "ุชุดููุฑ ุงููููุงุช ูุทูุจ ูุฏูุฉ" },
    { question: "ูุงุฐุง ูุนูู ุงูุชุดููุฑุ", options: ["ุชุญููู ุงูุจูุงูุงุช ูุตูุบุฉ ุบูุฑ ูููููุฉ", "ุญุฐู ุงูุจูุงูุงุช", "ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฌูุงุฒ"], correct: "ุชุญููู ุงูุจูุงูุงุช ูุตูุบุฉ ุบูุฑ ูููููุฉ" },
    { question: "ูุง ูู ุงูุชุตูุฏ ุงูุตูุชู (Vishing)ุ", options: ["ุงุญุชูุงู ุนุจุฑ ููุงููุงุช ูุงุชููุฉ", "ุชุดุบูู ุชุทุจููุงุช", "ูุณุฎ ุงููููุงุช"], correct: "ุงุญุชูุงู ุนุจุฑ ููุงููุงุช ูุงุชููุฉ" },
    { question: "ูุง ูู ูุฌูู Brute Forceุ", options: ["ุชุฎููู ูููุงุช ุงููุฑูุฑ", "ุชุดุบูู ุงูุดุจูุฉ", "ูุณุญ ุงููููุงุช"], correct: "ุชุฎููู ูููุงุช ุงููุฑูุฑ" },
  
    // ุฃุณุฆูุฉ ุชุนููููุฉ ุชุทุจูููุฉ
    { question: "ุฃูู ูุฌุจ ุญูุธ ูููุงุช ุงููุฑูุฑุ", options: ["ูู ูุฏูุฑ ูููุงุช ูุฑูุฑ ุขูู", "ูู ูุฑูุฉ ุนูู ุงูููุชุจ", "ูู ุชุทุจูู ุงูููุงุญุธุงุช ุงูุนุงุฏู"], correct: "ูู ูุฏูุฑ ูููุงุช ูุฑูุฑ ุขูู" },
    { question: "ูุง ูู ุงูุฎูุงุฑ ุงูุฃูุถู ุนูุฏ ุชููู ุจุฑูุฏ ูุดุจููุ", options: ["ุชุฌุงููู ุฃู ุญุฐูู", "ุงูุฑุฏ ุนููู", "ูุชุญ ุงูุฑุงุจุท ููุฑูุง"], correct: "ุชุฌุงููู ุฃู ุญุฐูู" },
    { question: "ูุง ูู ุงูุชุญุฏูุซ ุงูุฃูููุ", options: ["ุชุญุฏูุซุงุช ูุณุฏ ุงูุซุบุฑุงุช", "ุชุบููุฑ ูุงุฌูุฉ ุงูุชุทุจูู", "ุฅุนูุงูุงุช ุฌุฏูุฏุฉ"], correct: "ุชุญุฏูุซุงุช ูุณุฏ ุงูุซุบุฑุงุช" },
    { question: "ูุง ูู ุฃุซุฑ ุงุณุชุฎุฏุงู ุจุฑุงูุฌ ููุฑุตูุฉุ", options: ["ุชุนุฑุถ ุงูุฌูุงุฒ ููุงุฎุชุฑุงู", "ุชุณุฑูุน ุงูุฃุฏุงุก", "ุฒูุงุฏุฉ ุงูุฃูุงู"], correct: "ุชุนุฑุถ ุงูุฌูุงุฒ ููุงุฎุชุฑุงู" },
    { question: "ูุชู ูุฌุจ ุชุบููุฑ ูููุฉ ุงููุฑูุฑุ", options: ["ุจุดูู ุฏูุฑู ุฃู ุนูุฏ ุงูุดู", "ูุฑุฉ ูุงุญุฏุฉ ููุฃุจุฏ", "ูู ููู"], correct: "ุจุดูู ุฏูุฑู ุฃู ุนูุฏ ุงูุดู" },
    { question: "ูู ูููุฉ ุงููุฑูุฑ '123456' ุขููุฉุ", options: ["ูุง", "ูุนู"], correct: "ูุง" },
    { question: "ููุงุฐุง ูุง ูููุตุญ ุจุงุณุชุฎุฏุงู ููุณ ูููุฉ ุงููุฑูุฑ ูู ูู ุงูููุงูุนุ", options: ["ูููุน ุชุณุฑุจ ุฌููุน ุงูุญุณุงุจุงุช ุฏูุนุฉ ูุงุญุฏุฉ", "ูุฃูู ููู", "ูุฃูู ุจุทูุก"], correct: "ูููุน ุชุณุฑุจ ุฌููุน ุงูุญุณุงุจุงุช ุฏูุนุฉ ูุงุญุฏุฉ" },
  
    // ุฅุถุงููุฉ ุชูุงุนููุฉ
    { question: "ูุง ูู CAPTCHAุ", options: ["ุงุฎุชุจุงุฑ ูุชูููุฒ ุงูุฅูุณุงู ุนู ุงูุขูุฉ", "ูุดุบู ููุฏูู", "ุฃุฏุงุฉ ุถุบุท ุตูุฑ"], correct: "ุงุฎุชุจุงุฑ ูุชูููุฒ ุงูุฅูุณุงู ุนู ุงูุขูุฉ" },
    { question: "ููู ุชุญูู ุญุณุงุจู ุนูู ูุณุงุฆู ุงูุชูุงุตูุ", options: ["ูููุฉ ูุฑูุฑ ูููุฉ + ูุตุงุฏูุฉ ุซูุงุฆูุฉ", "ูููุฉ ูุฑูุฑ ุจุณูุทุฉ", "ุนุฏู ุชุณุฌูู ุงูุฎุฑูุฌ"], correct: "ูููุฉ ูุฑูุฑ ูููุฉ + ูุตุงุฏูุฉ ุซูุงุฆูุฉ" }
  ];
  

// ุชูุฒูุน ุงูุฃุณุฆูุฉ ุญุณุจ ุงูุตุนูุจุฉ
allCyberQuestions.forEach((q, i) => {
  if (i < 10) allQuestions.easy.push(q);
  else if (i < 20) allQuestions.medium.push(q);
  else allQuestions.hard.push(q);
});

// ุจูุงุก ุงูุนุฌูุฉ
function buildWheel(questions) {
  wheel.innerHTML = "";
  const angle = 360 / questions.length;
  questions.forEach((_, i) => {
    const seg = document.createElement("div");
    seg.classList.add("segment");
    seg.style.transform = `rotate(${i * angle}deg) skewY(-${90 - angle}deg)`;
    seg.style.background = i % 2 === 0 ? "#009688" : "#004d40";
    seg.innerText = `ุณุคุงู ${i + 1}`;
    wheel.appendChild(seg);
  });
}

// ุนุฑุถ ุงูุณุคุงู
function showQuestion(q) {
  clearInterval(timerInterval);
  questionText.innerText = "โ " + q.question;
  optionsDiv.innerHTML = "";
  let timeLeft = 15;
  timerDiv.innerText = `โณ ุงูููุช ุงููุชุจูู: ${timeLeft} ุซุงููุฉ`;

  timerInterval = setInterval(() => {
    timeLeft--;
    timerDiv.innerText = `โณ ุงูููุช ุงููุชุจูู: ${timeLeft} ุซุงููุฉ`;
    if (timeLeft <= 0) {
      clearInterval(timerInterval);
      alert("โฐ ุงูุชูู ุงูููุช! ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ: " + q.correct);
      clearUI();
    }
  }, 1000);

  q.options.forEach(opt => {
    const btn = document.createElement("div");
    btn.classList.add("option");
    btn.innerText = opt;
    btn.onclick = () => {
      clearInterval(timerInterval);
      if (opt === q.correct) {
        score++;
      // ุงุณุชููุงู ุฏุงูุฉ ุนุฑุถ ุงูุณุคุงู ุจุนุฏ ุงุฎุชูุงุฑ ุงูุฅุฌุงุจุฉ
      alert("โ ุฅุฌุงุจุฉ ุตุญูุญุฉ!");
    } else {
      alert("โ ุฅุฌุงุจุฉ ุฎุงุทุฆุฉ! ุงูุฅุฌุงุจุฉ ุงูุตุญูุญุฉ: " + q.correct);
    }

    scoreDiv.innerText = `ุงูููุงุท: ${score}`;
    answeredQuestions++;

    if (answeredQuestions >= 10) {
      alert(`๐ ุงูุชูุช ุงููุนุจุฉ!\nโ ุนุฏุฏ ุงูุฅุฌุงุจุงุช ุงูุตุญูุญุฉ: ${score} ูู ${answeredQuestions}`);
      resetGame();
    } else {
      clearUI();
    }
  };
  optionsDiv.appendChild(btn);
});
}

// ุฅุนุงุฏุฉ ุชุนููู ูุงุฌูุฉ ุงูุณุคุงู
function clearUI() {
questionText.innerText = "";
optionsDiv.innerHTML = "";
timerDiv.innerText = "";
}

// ุฅุนุงุฏุฉ ุชุนููู ุงููุนุจุฉ
function resetGame() {
score = 0;
answeredQuestions = 0;
scoreDiv.innerText = "ุงูููุงุท: 0";
clearUI();
}

// ุชุฏููุฑ ุงูุนุฌูุฉ ูุงุฎุชูุงุฑ ุณุคุงู ุนุดูุงุฆู
spinBtn.addEventListener("click", () => {
const difficulty = document.getElementById("difficulty").value;
const questions = allQuestions[difficulty];

if (!questions.length) {
  alert("ูุง ุชูุฌุฏ ุฃุณุฆูุฉ ูุชุงุญุฉ ููุฐุง ุงููุณุชูู.");
  return;
}

const randomIndex = Math.floor(Math.random() * questions.length);
const anglePerSegment = 360 / questions.length;
const targetRotation = 3600 + (randomIndex * anglePerSegment);
currentRotation += targetRotation;

wheel.style.transform = `rotate(${currentRotation}deg)`;

setTimeout(() => {
  showQuestion(questions[randomIndex]);
}, 4000);
});

// ุจูุงุก ุงูุนุฌูุฉ ุนูุฏ ุจุฏุก ุงูุตูุญุฉ
window.onload = () => {
const difficulty = document.getElementById("difficulty").value;
buildWheel(allQuestions[difficulty]);

document.getElementById("difficulty").addEventListener("change", () => {
  const diff = document.getElementById("difficulty").value;
  buildWheel(allQuestions[diff]);
});
};

